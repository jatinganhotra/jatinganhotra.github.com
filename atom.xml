<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[blog@silverSpoon]]></title>
  <link href="http://silverSpoon.github.com/atom.xml" rel="self"/>
  <link href="http://silverSpoon.github.com/"/>
  <updated>2012-11-26T00:20:47+05:30</updated>
  <id>http://silverSpoon.github.com/</id>
  <author>
    <name><![CDATA[Jatin Ganhotra]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Forward Class Declaration in C++]]></title>
    <link href="http://silverSpoon.github.com/blog/2012/11/25/forward-class-declaration-in-c-plus-plus/"/>
    <updated>2012-11-25T21:00:00+05:30</updated>
    <id>http://silverSpoon.github.com/blog/2012/11/25/forward-class-declaration-in-c-plus-plus</id>
    <content type="html"><![CDATA[<p>&#8220;In computer programming, a <a href="%22http://en.wikipedia.org/wiki/Forward_declaration">forward declaration</a> is a declaration of an identifier (denoting an entity such as a type, a variable, or a function) for which the programmer has not yet given a complete definition.&#8221;</p>

<p>In C++, you should forward declare classes instead of including headers. Don&#8217;t use an #include when a forward declaration would suffice.
When you include a header file you introduce a dependency that will cause your code to be recompiled whenever the header file changes. If your header file includes other header files, any change to those files will cause any code that includes your header to be recompiled. Therefore, you should prefer to minimize includes, particularly includes of header files in other header files.</p>

<p>You can significantly reduce the number of header files you need to include in your own header files by using forward declarations. For example, if your header file uses the File class in ways that do not require access to the declaration of the File class, your header file can just forward declare class File; instead of having to #include &#8220;file.h&#8221;.</p>

<p>This will in turn speed a little bit the compilation.</p>

<p><strong>When can I use the forward class declaration?</strong><br/>
Put yourself in the compiler&#8217;s position: when you forward declare a type, all the compiler know is that this type exists; it knows nothing about its size, members or methods. This is why it&#8217;s called an <em>incomplete type</em>. Therefore, you cannot use the <em>incomplete</em> type at places where the compiler would need to know the layout of the type.</p>

<p>Assuming the following forward declaration
<code>class Forward;</code></p>

<p><strong>You can use forward declarations in all the following cases, where</strong></p>

<div><script src='https://gist.github.com/4144783.js?file='></script>
<noscript><pre><code>class Master {
private:
    // Declare a member to be a pointer or a reference to the incomplete type
    Forward *ptr1;     
    Forward &amp;ptr2;

public:

    // Declare functions or methods which accepts/return incomplete types:
    void ByValue(Forward by_value);
    Forward OrReturnValue();

    // Define functions or methods which accepts/return pointers/references 
    // to the incomplete type (but without using its members):
    void OrByPointer(Forward* by_pointer);
    void OrByReference(const Forward&amp; by_reference);
    Forward&amp; ReturnByRef();
    Forward* ReturnByPointer();

};</code></pre></noscript></div>


<p><strong>You can&#8217;t use forward declarations in all the following cases, where</strong></p>

<div><script src='https://gist.github.com/4144778.js?file='></script>
<noscript><pre><code>// Use it as a base class
class Master : Forward {} // compiler error!

// Use it to declare a member:
class Master {
    Forward cannot_define_obj_member; // compiler error!
};

// Define functions or methods using the incomplete type
void SomeFunc1(Forward x) {} // compiler error!
Forward    SomeFunc2()    {} // compiler error!

// Use its methods or fields, in fact trying to dereference a variable with incomplete type
class Master {
    Forward *forward_class_ptr;            
    void SomeFunc()            
    {
        forward_class_ptr-&gt;SomeMethod();      // compiler error!
        int i = forward_class_ptr-&gt;SomeField; // compiler error!
    }
};

// Whenever you use a class as a template parameter, the declaration of that class must be complete and not simply forward declared.
class Master {
      std::vector&lt;Forward&gt; some_stl_containers_;
};


// Delete the forward declared class in the module
class Forward;
class Master
{
    void SomeFunc(Forward* forward_class_ptr)
    {
        delete forward_class_ptr;
    }
};
// From the C++ standard: 5.3.5/5:
// &quot;If the object being deleted has incomplete class type at the point of deletion and the complete class has a // non-trivial destructor or a deallocation function, the behavior is undefined.&quot;
// e.g gcc 4.2.1 errors out and reports a note: neither the destructor nor the class-specific operator delete will be called, even if they are declared when the class is defined.
</code></pre></noscript></div>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install MongoDB on Ubuntu]]></title>
    <link href="http://silverSpoon.github.com/blog/2011/11/15/install-mongodb-on-ubuntu/"/>
    <updated>2011-11-15T01:33:00+05:30</updated>
    <id>http://silverSpoon.github.com/blog/2011/11/15/install-mongodb-on-ubuntu</id>
    <content type="html"><![CDATA[<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>


<script src="http://silverSpoon.github.com/javascripts/jquery.accordion.js"></script>


<script src="http://silverSpoon.github.com/javascripts/jquery.easing.1.3.js"></script>


<script type="text/javascript">
  $(function() {            
    var $j = jQuery.noConflict();
    $j('#st-accordion').accordion({
      oneOpenedItem : true
    });
  });
</script>




<div class="container">
There are multiple ways to install MongoDB on Ubuntu (I have got Ubuntu 11.10 setup on my machine).
<div class="wrapper">
    <div id="st-accordion" class="st-accordion">
    <ul>
      <li>
    <a href="#">the mongodb package in Debian/Ubuntu<span class="st-arrow">Open or Close</span></a>
    <div class="st-content">
        On running
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-cache show mongodb</span></code></pre></td></tr></table></div></figure>

        it will print out a lot of information about the package like
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Package: mongodb
</span><span class='line'>Architecture: i386
</span><span class='line'>Version: 1:1.8.2-1ubuntu1
</span><span class='line'>Depends: mongodb-server, mongodb-dev
</span><span class='line'>Filename: pool/universe/m/mongodb/mongodb_1.8.2-1ubuntu1_i386.deb</span></code></pre></td></tr></table></div></figure>
        If you carefully notice, the version is outdated. If you wish to install it, run
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install mongodb</span></code></pre></td></tr></table></div></figure>

        and mongodb will be installed for you alongwith<br/><em>libmozjs185-1.0 mongodb-clients mongodb-dev mongodb-server</em>
        </div>
    </li>
    <li>
        <a href="#">the mongodb-10gen package by 10gen<span class="st-arrow">Open or Close</span></a>
        <div class="st-content">

        To install the mongodb-10gen package, corresponding to the latest stable release, follow the instructions as follows:<br/>
        
        + Add the GPG key:
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10</span></code></pre></td></tr></table></div></figure>


        + Add this line verbatim to your <strong>/etc/apt/sources.list</strong>
<figure class='code'><figcaption><span>/etc/apt/sources.list</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># if you are on older Ubuntus</span>
</span><span class='line'><span class="n">deb</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">downloads</span><span class="o">-</span><span class="n">distro</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">repo</span><span class="o">/</span><span class="n">debian</span><span class="o">-</span><span class="n">sysvinit</span> <span class="n">dist</span> <span class="mi">10</span><span class="n">gen</span>
</span><span class='line'><span class="c1"># On new Ubuntus, add this</span>
</span><span class='line'><span class="n">deb</span> <span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">downloads</span><span class="o">-</span><span class="n">distro</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">repo</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">upstart</span> <span class="n">dist</span> <span class="mi">10</span><span class="n">gen</span>
</span></code></pre></td></tr></table></div></figure>

        + Update the sources
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get update</span></code></pre></td></tr></table></div></figure>


        + Install the desired package(latest stable or latest development release)
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install mongodb-10gen</span></code></pre></td></tr></table></div></figure>

            
        For more detailed guide on this, refer to <a href="http://www.mongodb.org/display/DOCS/Ubuntu+and+Debian+packages">MongoDB guide for Ubuntu and Debian packages</a>

        </div>
    </li>
        <li>
      <a href="#">Unix binaries<span class="st-arrow">Open or Close</span></a>
      <div class="st-content">
32-bit
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span> <span class="err">#</span> <span class="nx">replace</span> <span class="s2">&quot;2.0.1&quot;</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">url</span> <span class="nx">below</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">version</span> <span class="nx">you</span> <span class="nx">want</span>
</span><span class='line'><span class="nx">$</span> <span class="nx">curl</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//downloads.mongodb.org/linux/mongodb-linux-i686-2.0.1.tgz &gt; mongo.tgz</span>
</span><span class='line'><span class="nx">$</span> <span class="nx">tar</span> <span class="nx">xzf</span> <span class="nx">mongo</span><span class="p">.</span><span class="nx">tgz</span>
</span></code></pre></td></tr></table></div></figure>
64-bit
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span> <span class="err">#</span> <span class="nx">replace</span> <span class="s2">&quot;2.0.1&quot;</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">url</span> <span class="nx">below</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">version</span> <span class="nx">you</span> <span class="nx">want</span>
</span><span class='line'><span class="nx">$</span> <span class="nx">curl</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//downloads.mongodb.org/linux/mongodb-linux-x86_64-2.0.1.tgz &gt; mongo.tgz</span>
</span><span class='line'><span class="nx">$</span> <span class="nx">tar</span> <span class="nx">xzf</span> <span class="nx">mongo</span><span class="p">.</span><span class="nx">tgz</span>
</span></code></pre></td></tr></table></div></figure>          
      </div>
    </li>
        <li>
      <a href="#">Building from source<span class="st-arrow">Open or Close</span></a>
      <div class="st-content">
        + Install prerequisites
        For Ubuntu 10.04+ :<br/>
        (For older versions, refer <a href="http://www.mongodb.org/display/DOCS/Building+for+Linux"> MongoDB guide for building from source </a> )
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">tcsh</span> <span class="nx">git</span><span class="o">-</span><span class="nx">core</span> <span class="nx">scons</span> <span class="nx">g</span><span class="o">++</span>
</span><span class='line'><span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">libpcre</span><span class="o">++-</span><span class="nx">dev</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libreadline</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">xulrunner</span><span class="o">-</span><span class="mf">1.9</span><span class="p">.</span><span class="mi">2</span><span class="o">-</span><span class="nx">dev</span>
</span><span class='line'><span class="nx">apt</span><span class="o">-</span><span class="nx">get</span> <span class="o">-</span><span class="nx">y</span> <span class="nx">install</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">program</span><span class="o">-</span><span class="nx">options</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">thread</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">filesystem</span><span class="o">-</span><span class="nx">dev</span> <span class="nx">libboost</span><span class="o">-</span><span class="nx">date</span><span class="o">-</span><span class="nx">time</span><span class="o">-</span><span class="nx">dev</span>
</span></code></pre></td></tr></table></div></figure>
        + Get source
<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">git</span> <span class="nx">clone</span> <span class="nx">git</span><span class="o">:</span><span class="c1">//github.com/mongodb/mongo.git &amp;&amp; cd mongo</span>
</span><span class='line'><span class="nx">git</span> <span class="nx">tag</span> <span class="o">-</span><span class="nx">l</span>
</span><span class='line'><span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">r2</span><span class="p">.</span><span class="mf">0.0</span>
</span></code></pre></td></tr></table></div></figure>
        + Build
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>scons all</span></code></pre></td></tr></table></div></figure>

        + Install &#8211;prefix can be anywhere you want to contain your binaries e.g. /usr/local or /opt/mongo.
        
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>scons --prefix=/opt/mongo install</span></code></pre></td></tr></table></div></figure>

    </div>
  </li>

            </ul>
        </div>
    </div>
</div>


<div>
<style type="text/css">
a{color:#000;text-decoration:none;}.wrapper{width:90%;max-width:800px;margin:30px auto;}.st-accordion{width:100%;min-width:270px;margin:0 auto;}.st-accordion ul li{height:100px;border-bottom:1px solid #c7deef;border-top:1px solid #fff;overflow:hidden;}.st-accordion ul li:first-child{border-top:none;}.st-accordion ul li > a{font-family:&#8217;Josefin Slab&#8217;,Georgia, serif;text-shadow:1px 1px 1px #fff;font-size:24px;display:block;position:relative;line-height:100px;outline:none;-webkit-transition:color .2s ease-in-out;-moz-transition:color .2s ease-in-out;-o-transition:color .2s ease-in-out;-ms-transition:color .2s ease-in-out;transition:color .2s ease-in-out;}.st-accordion ul li > a span{background:transparent url(/images/down.png) no-repeat center center;text-indent:-9000px;width:26px;height:14px;position:absolute;top:50%;right:-26px;margin-top:-7px;opacity:0;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;-ms-transition:all .2s ease-in-out;transition:all .2s ease-in-out;}.st-accordion ul li > a:hover span{opacity:1;right:10px;}.st-accordion ul li.st-open > a span{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);transform:rotate(180deg);right:10px;opacity:1;}.st-content{padding:5px 0 30px;}.st-content p{font-size:16px;font-family:Georgia, serif;font-style:italic;line-height:28px;padding:0 4px 15px;}.st-content img{width:125px;border-right:1px solid #fff;border-bottom:1px solid #fff;}.st-accordion ul li > a:hover,.st-accordion ul li.st-open > a{color:#1693eb;}@media screen and max-width 320px{.st-accordion ul li > a{font-size:36px;}}
</style>
</div>

]]></content>
  </entry>
  
</feed>
